import{g as nt,h as rt,i as ot,j as at,n as h,o as E,q as it,t as st,x as lt}from"./chunk-JOOVJERF.js";import{g as Z}from"./chunk-HZ46BFL2.js";import{qa as _,ua as R}from"./chunk-DALLY2ZR.js";import{Nb as L}from"./chunk-4HRGOILD.js";import{B as Nt,Bd as Q,Cd as tt,E as O,F as v,J as F,K as U,M as K,Nd as et,eb as G,fc as j,gc as A,h as b,ha as W,hb as Y,k as $,kc as q,lc as H,oc as X,pc as z,tb as V,vc as J}from"./chunk-4KPHYKUF.js";import{Pb as C,aa as B,b as At,c as It,ge as M,v as x,w as g}from"./chunk-ODNNZUPK.js";import{G as k}from"./chunk-UAQWDGIM.js";import{a as r,g as y,i as o,l as xt,m as Buffer,n as a}from"./chunk-NSVULBS3.js";o();a();o();a();var I=y(It(),1);var mt=y(At(),1);var ct=(0,I.struct)([(0,I.u8)("instruction"),q("amount")]);function dt(t,n,e,i,s=[],c=A){let l=X([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],e,s),d=Buffer.alloc(ct.span);return ct.encode({instruction:H.Burn,amount:BigInt(i)},d),new mt.TransactionInstruction({keys:l,programId:c,data:d})}r(dt,"createBurnInstruction");var Et=r(({t,apiErrors:n,clientErrors:e})=>{let i={title:t("collectiblesSellStatusErrorTitle"),subtitle:t("collectiblesSellStatusErrorSubtitle")};return n.isSellErrorCode?n?.sellStepsError?.code===1?{title:t("collectiblesSellRecentlyTransferedNFTTitle"),subtitle:t("collectiblesSellRecentlyTransferedNFTSubtitle")}:n?.sellStepsError?.code===3?{title:t("collectiblesSellNotAvailableAnymoreTitle"),subtitle:t("collectiblesSellNotAvailableAnymoreSubtitle")}:n?.sellStepsError?.code===9?{title:t("collectiblesSellNotAvailableAnymoreTitle"),subtitle:t("collectiblesSellNotAvailableAnymoreSubtitle")}:i:e.hasEnoughGas?e.executeSellError?e.executeSellError.message===lt?{title:t("collectiblesSellNotAvailableAnymoreTitle"),subtitle:t("collectiblesSellNotAvailableAnymoreSubtitle")}:i:null:{title:t("collectiblesSellInsufficientFundsTitle"),subtitle:t("collectiblesSellInsufficientFundsSubtitle")}},"getInstantSellError");o();a();var Pt=r(t=>E(t)?t.standard===tt.ERC1155:h(t)?t.standard===Q.SemiFungible:!1,"isCollectibleSemiFungible");o();a();var P=y(xt(),1);o();a();async function ut(t){let{mint:n}=t,e=new x.Transaction,i=await st({networkID:B.Mainnet,mintAddress:n});return e.add(await F({...t,...i})),e}r(ut,"createCompressedTokenBurnTransaction");var Dt=r(async({mintAddress:t,owner:n,amountToBurn:e,collectionPubKey:i,tokenEdition:s,compression:c,programId:l,isProgrammable:d,connection:N})=>{let f=new x.Transaction,u=new g.PublicKey(t),p=await z(u,n);if(c?.compressed)return ut({compression:c,mint:t});if(l===v)return j({mint:t,connection:N,owner:n.toBase58()});if(d)return K({senderAddress:n,senderAccount:p,mintAddress:new g.PublicKey(t)});if(s===null||!nt(s)){let T=dt(p,u,n,e),S=Z(p,n,n);f.add(T,S)}else{let T=P.Buffer.from(u.toBytes()),S=rt(T),gt=ot(T),w;if(i!==null){let ht=new g.PublicKey(i),yt=P.Buffer.from(ht.toBytes());w=at(yt)}let St={metadata:S,owner:n,mint:u,tokenAccount:p,masterEditionAccount:gt,splTokenProgram:A,collectionMetadata:w},{createBurnNftInstruction:Ct}=await U(),bt=Ct(St,O);f.add(bt)}return f},"getBurnTransaction"),wt=r(async({mintAddress:t,owner:n,amountToBurn:e,collectionPubKey:i,tokenEdition:s,chainId:c,compression:l,programId:d,isProgrammable:N})=>{let f=Y(c),u=await Dt({mintAddress:t,owner:n,amountToBurn:e,collectionPubKey:i,tokenEdition:s,compression:l,programId:d,isProgrammable:N,connection:f});u.recentBlockhash=(await f.getLatestBlockhash("confirmed")).blockhash,u.feePayer=n;let p=await V(u,{connection:f}),T=await J(c,[p.compileMessage()]),S=W(T);return{burnTxWithPriority:p,networkFeeUiAmount:S}},"getBurnTransactionWithPriorityFee");o();a();o();a();var kt=r((t,n=$.standard,e,i,s,c,l)=>{if(C.isEVMNetworkID(t)){let d=G.get(t).transactionSpeedSeconds(n);return{ownerAddress:e.address,networkID:t,data:{hash:"",nonce:"",unsignedTransaction:k.parse({from:e.address}),estimatedTimeToMineInSeconds:d},type:b.Send,display:{summary:{topLeft:{text:`${l("transactionsPendingSending")} ${c} ${i}`},bottomLeft:{text:`${l("transactionsToParagraphInterpolated",{to:s})}`}},detail:{header:`${c} ${i}`,uiRecipient:s}}}}else{if(C.isSolanaNetworkID(t))return{ownerAddress:e.address,networkID:t,data:{signature:""},type:b.Send,display:{summary:{topLeft:{text:`${l("transactionsPendingSending")} ${c} ${i}`},bottomLeft:{text:`${l("transactionsToParagraphInterpolated",{to:s})}`}}}};if(C.isBitcoinNetworkID(t))return{ownerAddress:e.address,networkID:t,data:{txID:"",psbtHex:""},type:b.Send,display:{summary:{topLeft:{text:`${l("transactionsPendingSending")} ${c} ${i}`},bottomLeft:{text:`${l("transactionsToParagraphInterpolated",{to:s})}`}}}};if(C.isSuiNetworkID(t))return{ownerAddress:e.address,networkID:t,data:{digest:""},type:b.Send,display:{summary:{topLeft:{text:`${l("transactionsPendingSending")} ${c} ${i}`},bottomLeft:{text:`${l("transactionsToParagraphInterpolated",{to:s})}`}}}};throw new Error(`Unable to create pending transaction input for network id ${t}}`)}},"createTransferPendingTransactionInput");o();a();o();a();var ft=r(({url:t,format:n})=>{if(!t)return null;!t.startsWith("http")&&t.split(".").length===2&&(t=`http://${t}`),t.startsWith("www.")&&(t=`https://${t}`),!t.startsWith("http")&&!t.startsWith("https")&&(t=`https://${t}`);try{let{hostname:e,href:i}=new URL(t);switch(n){case"hostname":return e.replace("www.","");case"root":return e.split(".").slice(-2).join(".");case"domain":return e.split(".").slice(-2)[0];case"full":return i;default:return e}}catch{return null}},"formatURL");var Bt=r(t=>t.replace(/(\/|-|_|#)+?\d+(?!-|_|\/)+/g,"").replace(/\d+( of )\d+/g,"").trim(),"parseName"),Mt=r((t,n)=>{if(t.name&&t.name.length>0)return t.name;if(t.externalUrl){let e=ft({url:t.externalUrl,format:"domain"});if(e)return e}if(n?.name){let e=Bt(n.name);if(e)return e}if(n?.symbol)return n.symbol},"selectBestCollectionName");o();a();var Lt=r((t,n)=>{if(h(t.chainData))return{standard:t.chainData.standard,pubkey:t.chainData.tokenAccount,mintPubKey:t.chainData.mint,ownerPubKey:n,decimals:parseInt(t.decimals??"0",10),amount:t.balance??"0",delegate:null,delegatedAmount:"",logoURI:null,name:t.name??null,symbol:t.symbol??null,state:"initialized",collectionPubKey:t.collection.id,uses:null,creators:[],uri:t.uri??"",collectionName:t.collection.name??void 0,collectibleImage:t.media?.previews?.medium??void 0}},"convertCollectibleToSPLTokenAccount");o();a();var D=y(Nt(),1);var _t=1e6,Rt=1e4,$t=r(t=>t>_t?">1M":t<Rt?(0,D.default)(t).format("0,0.[000]"):(0,D.default)(t).format("0.[0]a").toUpperCase(),"formatCount");o();a();o();a();function pt({chainID:t,amount:n,collectible:e,symbol:i}){let s=R(t);switch(s.chainName){case"solana":return{...s,asset:{amount:n.toString(),mint:"mint"in e?e.mint:"UNKNOWN",symbol:i,type:"collectible"}};case"ethereum":case"polygon":case"base":case"arbitrum":case"monad":case"hyperevm":return{...s,asset:{amount:n.toString(),address:"contract"in e?e.contract:"UNKNOWN",symbol:i,type:"collectible"}};case"bitcoin":return{...s,asset:{id:"firstCreatedInscriptionId"in e?e.firstCreatedInscriptionId:"UNKNOWN",symbol:i,type:"collectible"}};case"sui":return{...s,asset:{amount:n.toString(),address:"not yet implemented",symbol:i,type:"collectible"}}}}r(pt,"getCollectibleData");var Ot="list",Tt=r(t=>new _(t,Ot),"createListingAnalytics"),vt=L(M,t=>Tt(t));o();a();function Ft(t){if(!t)return!1;let n=et(t),e=t.chainData&&it(t.chainData)&&!!t.chainData.kioskId;return n||!!e}r(Ft,"isCollectibleNonTransferable");export{Et as a,Pt as b,kt as c,ft as d,Mt as e,Lt as f,$t as g,wt as h,pt as i,Ft as j};
//# sourceMappingURL=chunk-QKQTXGH3.js.map
