import{Ia as P,z as I}from"./chunk-BUUR4IB6.js";import{l as x}from"./chunk-QNLSAEYJ.js";import{c as h}from"./chunk-IJMSB5F7.js";import{h as g,i as b}from"./chunk-YLX2CXTY.js";import{d as F}from"./chunk-EREDVFEV.js";import{d as p,o as S,q as A}from"./chunk-FWDXF6DS.js";import{a as w}from"./chunk-KK53XKFJ.js";import{Zd as y,ge as u}from"./chunk-ODNNZUPK.js";import{a as D,r as f}from"./chunk-LELMSWC2.js";import{a as l,g as O,i as m,n as d}from"./chunk-NSVULBS3.js";m();d();var i=O(D(),1);m();d();var C="_19n0krs0";var M=y({days:3}),T=new w,Ii=l(()=>{let t=u(),{isOpen:s}=x(),{data:o,isReady:e}=S(p.AdditionalPermissions),{handleShowModalVisibility:n}=P(),a=e&&!o&&!s;return(0,i.useEffect)(()=>{a&&(n("additionalPermissions"),t.capture("allSitesPermissionsSeen",{data:{uiContext:"interstitial"}}))},[n,a,t]),null},"AdditionalPermissionsInterstitialVisibility");function xi(){let[t,s]=(0,i.useState)(null),[o,e]=(0,i.useState)(!1),{data:n,isReady:a}=S(p.AdditionalPermissions);(0,i.useEffect)(()=>{(async()=>{let r=await h(T);(!r||r&&Date.now()-r>M)&&e(!0)})()},[]),(0,i.useEffect)(()=>{g().then(r=>{s(r)})},[t]);let c=(0,i.useMemo)(()=>t===null?!1:!t,[t]);return{shouldShowAdditionalPermissionsInterstitial:a&&c&&!n&&o}}l(xi,"useAdditionalPermissionsInterstitial");var V=l(()=>{let{t}=f(),s=u(),{handleHideModalVisibility:o}=P(),e=A(p.AdditionalPermissions),n=(0,i.useCallback)(()=>{s.capture("allSitesPermissions",{data:{uiContext:"interstitial",oldValue:!1,newValue:!1,choice:"commandDontAllow"}}),e(),o("additionalPermissions")},[o,e,s]),a=(0,i.useCallback)(async()=>{let r=await b();s.capture("allSitesPermissions",{data:{uiContext:"interstitial",oldValue:!1,newValue:r,choice:"commandAllow"}}),e(),o("additionalPermissions")},[o,e,s]),c={icon:i.default.createElement("img",{className:C,src:"/images/additional-permissions/interstitial.webp"}),bodyTitle:t("interstitialAdditionalPermissionsTitle"),bodyDescription:t("interstitialAdditionalPermissionsSubtitle"),FooterComponent:l(()=>i.default.createElement(F,{primaryText:t("commandAllow"),onPrimaryClicked:a,secondaryText:t("commandDontAllow"),onSecondaryClicked:n}),"FooterComponent"),onDismiss:n};return i.default.createElement(I,{...c})},"AdditionalPermissionsInterstitial"),Ci=V;export{Ii as a,xi as b,V as c,Ci as d};
//# sourceMappingURL=chunk-34Y6ELIV.js.map
